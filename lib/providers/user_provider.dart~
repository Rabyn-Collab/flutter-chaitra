import 'package:flutter_chaitra/models/user.dart';
import 'package:flutter_riverpod/flutter_riverpod.dart';
import 'package:uuid/uuid.dart';



class UserDetailProvider extends Notifier<List<User>>{
  @override
  List<User> build() {
     return [];
  }
final uuid = Uuid();

  void addUserDetail(Map<String, dynamic> user) {
    state = [...state, User.fromJson({...user, 'id': uuid.v4()})];
  }


  void updateUserDetail(Map<String, dynamic> updateUser) {
    state = [
     for(final user in state) user.id ==  updateUser['id'] ? User.fromJson(updateUser): user
    ];
  }

}


final userDetailProvider = NotifierProvider<UserDetailProvider, List<User>>(() => UserDetailProvider());